<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<meta content="text/css" http-equiv="Content-Style-Type"/>
<meta content="pandoc" name="generator"/>
<title>Edward – Developer Process</title>
<!-- Mobile Specific Metas -->
<meta content="width=device-width, initial-scale=1" name="viewport">
<!-- FONT -->
<link href="https://fonts.googleapis.com/css?family=Lora:400,400i,700" rel="stylesheet">
<!-- CSS -->
<link href="css/normalize.css" rel="stylesheet">
<link href="css/skeleton.css" rel="stylesheet">
<!-- KaTeX -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.6.0/katex.min.js"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.6.0/katex.min.css" rel="stylesheet"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.6.0/contrib/auto-render.min.js"></script>
<!-- highlight.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.4.0/highlight.min.js"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.4.0/styles/github.min.css" rel="stylesheet">
<!-- Favicon -->
<link href="icons/apple-touch-icon-57x57.png" rel="apple-touch-icon" sizes="57x57">
<link href="icons/apple-touch-icon-60x60.png" rel="apple-touch-icon" sizes="60x60">
<link href="icons/apple-touch-icon-72x72.png" rel="apple-touch-icon" sizes="72x72">
<link href="icons/apple-touch-icon-76x76.png" rel="apple-touch-icon" sizes="76x76">
<link href="icons/apple-touch-icon-114x114.png" rel="apple-touch-icon" sizes="114x114">
<link href="icons/apple-touch-icon-120x120.png" rel="apple-touch-icon" sizes="120x120">
<link href="icons/apple-touch-icon-144x144.png" rel="apple-touch-icon" sizes="144x144">
<link href="icons/apple-touch-icon-152x152.png" rel="apple-touch-icon" sizes="152x152">
<link href="icons/apple-touch-icon-180x180.png" rel="apple-touch-icon" sizes="180x180">
<link href="icons/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png">
<link href="icons/android-chrome-192x192.png" rel="icon" sizes="192x192" type="image/png">
<link href="icons/favicon-96x96.png" rel="icon" sizes="96x96" type="image/png">
<link href="icons/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png">
<link href="icons/manifest.json" rel="manifest">
<link color="#5bbad5" href="icons/safari-pinned-tab.svg" rel="mask-icon">
<link href="icons/favicon.ico" rel="shortcut icon">
<meta content="#da532c" name="msapplication-TileColor">
<meta content="icons/mstile-144x144.png" name="msapplication-TileImage">
<meta content="icons/browserconfig.xml" name="msapplication-config">
<meta content="#ffffff" name="theme-color">
</meta></meta></meta></meta></link></link></link></link></link></link></link></link></link></link></link></link></link></link></link></link></link></link></link></link></meta></head>
<body>
<div class="container">
<div class="row" style="margin-top: 5%">
<div class="three columns">
<h1><a href="index.html">Edward</a></h1>
<a href="index.html">
<img alt="Edward" class="u-full-width" src="images/edward.png" style="margin-bottom:15%"/>
</a>
<a class="button u-full-width" href="index.html">Home</a>
<a class="button u-full-width" href="getting-started.html">Getting Started</a>
<a class="button u-full-width" href="delving-in.html">Delving In</a>
<a class="button u-full-width" href="tutorials.html">Tutorials</a>
<a class="button u-full-width" href="api/index.html">API</a>
<a class="button u-full-width" href="#">Advanced</a>
<a class="button2 u-full-width" href="design-philosophy.html">Design Philosophy</a>
<a class="button2 u-full-width" href="developer-process.html">Developer Process</a>
<a class="button2 u-full-width" href="troubleshooting.html">Troubleshooting</a>
<a class="button2 u-full-width" href="license.html">License</a>
<div class="row" style="padding-bottom: 5%"> </div>
<a href="https://github.com/blei-lab/edward">
<!-- <object data="images/github-mark.svg" type="image/svg+xml"> -->
<img alt="Edward on Github" class="u-pull-right" src="images/github-mark.svg" style="padding-right:10%"/>
<!-- </object> -->
</a>
<div class="row" style="padding-bottom: 5%"> </div>
</div>
<div class="nine columns">
<h2 id="developer-process">Developer Process</h2>
<h3 id="standards">Standards</h3>
<ul>
<li><strong>Pull request and branches.</strong> Contribute by developing on a clone of the repo and writing the code in a branch. Submit a pull request when ready.
<p>For developers with push permission to the repo, see <a href="http://mc-stan.org/">Stan</a>’s process for how to name branches. Do not merge your own pull requests or ever push to master. Someone should always review your code. After merging (or deciding to close the request without merging), always delete the branch from the repo.</p></li>
<li><strong>Unit testing.</strong> Unit testing is awesome. It’s useful not only for checking code after having written it, but also in checking code as you are developing it. If you’re informally writing short scripts that output various things anyways, I suggest saving the file in the <code>tests/</code> directory. This gets the momentum going as the test becomes formalized. For testing, simply run <a href="http://nose2.readthedocs.io/en/latest/getting_started.html"><code>nose2</code></a> in the repo; it will automatically find and run all tests in <code>tests/</code>. Most if not all pull requests should have unit tests.</li>
<li><strong>Issue labeling system.</strong> We use <a href="https://github.com/stan-dev/stan/pulls">Stan’s labeling system</a>. While several labels obviously don’t apply to us, it’s better than the default labels.</li>
</ul>
<h3 id="coding">Coding</h3>
<ul>
<li><strong>Style guidelines.</strong> Follow <a href="https://www.tensorflow.org/versions/r0.9/how_tos/style_guide.html">TensorFlow</a>, including its <a href="https://www.tensorflow.org/versions/r0.9/how_tos/documentation/index.html">documentation guidelines</a>. The only exceptions are detailed below. Some below are not necessarily exceptions but simply emphasize style guidelines you should be following from TensorFlow or PEP 8 anyways.</li>
<li>Use four-space indents rather than two-space.</li>
<li>To organize imports in a script, use three blocks: 1. any <code>from __future__ import [...]</code> lines; 2. any <code>import [...]</code> lines; and 3. any <code>from [...] import [...]</code> lines. Each block is separated by a blank line, and within each block the lines are sorted alphabetically.</li>
<li><code>edward.stats</code> uses SciPy standards. This includes, for example, the argument specification and the choice of how a distribution is parameterized. <code>edward.models</code> uses <code>tf.contrib.distributions</code> standards.</li>
<li>For arguments that are positive integers, use <code>n_</code>, e.g., <code>n_minibatch</code>, <code>n_print</code>, to represent “number of <span>[</span>…<span>]</span>”. For class attributes that are booleans, use <code>is_</code>, e.g., <code>is_reparameterized</code>, <code>is_multivariate</code>.</li>
<li>Aim for 70 characters per line, with some exceptions.</li>
<li><a href="http://programmers.stackexchange.com/questions/75919/should-package-names-be-singular-or-plural">Package names are almost always plural, with the exception of</a> <code>util.py</code>.</li>
<li>Use a blank line to separate the end of an indented procedure:
<pre class="python" language="Python"><code>for i in range(5):
    do_stuff()

more_code()</code></pre></li>
</ul>
<h3 id="suggested-workflow">Suggested workflow</h3>
<ul>
<li><strong>Update your Python path.</strong> As you make changes, it can be cumbersome to constantly reinstall the package to test these changes. We recommend adding the path to your local repo to your <code>PYTHONPATH</code>. That is, run the following on the command-line:
<pre class="JSON"><code>export PYTHONPATH="${PYTHONPATH}:/path/to/repo"</code></pre>
<p>For this to work permanently, add this line to your <code>~/.bashrc</code> if you use Bash or <code>~/.zshenv</code> if you use zsh. Any time you import the package, it will look for the package locally via this directory path.</p></li>
<li><strong>Local installation.</strong> Sometimes it does make sense to check the installation. To install locally, run the following when at the parent directory of the repo:
<pre><code>pip install -e edward</code></pre>
<p>(We recommend not installing with <code>sudo</code>; rather <a href="http://docs.python-guide.org/en/latest/starting/install/osx/">use virtualenv</a>.)</p></li>
<li><strong>Packaging and submitting to PyPI.</strong> First, update the version number in <code>setup.py</code>. Second, follow <a href="https://packaging.python.org/en/latest/distributing/#packaging-your-project">these steps</a>. For shorthand, the sequence of commands is
<pre class="JSON"><code>python setup.py sdist
python setup.py bdist_wheel
twine upload dist/*</code></pre>
<p>Third, tag the release on Github and note the new additions when tagging this release. You can do this by comparing commits from the previous tagged release to master. A link that compares tagged commits to master is available on the <a href="https://github.com/blei-lab/edward/releases">releases page</a>.</p></li>
<li>In general, all remaining tasks to be completed are raised as Github issues. In other cases, write a TODO comment for things that need to be done but are so minor you’d rather not raise a Github issue; this can be helpful as you are writing code in a branch. None of the intermediate commits which have a TODO comment should still have that comment when submitting the pull request.</li>
</ul>
<h3 id="suggested-private-workflow">Suggested private workflow</h3>
<p>To develop work on a branch privately, we suggest using a private repo that maintains the master branch from the public repo. Development happens on the private repo’s branch, and when it is finished, you can push it to the public repo’s branch to submit as a pull request. We describe this in detail.</p>
<p>Clone the private repo so you can work on it (create a repo if it does not exist).</p>
<pre class="JSON"><code>git clone https://github.com/blei-lab/edward-private.git</code></pre>
<p>Pull changes from the public repo. This will let the private repo have the latest code from the public repo on its master branch.</p>
<pre class="JSON"><code>cd edward-private
git remote add public https://github.com/blei-lab/edward.git
git pull public master # Creates a merge commit
git push origin master</code></pre>
<p>Now create your branch on the private repo, develop stuff, and pull any latest changes from the public repo as you develop (<code>git pull public master</code>). Make sure that as you’re running Edward, you’re using the Edward library pointing to the private repo so it reflects your developer changes and not pointed to the public repo where it won’t see any changes.</p>
<p>Finally, to create a pull request from a private repo’s branch to the public repo, push the private branch to the public repo.</p>
<pre class="JSON"><code>git clone https://github.com/blei-lab/edward.git
cd edward
git remote add private https://github.com/blei-lab/edward-private.git
git checkout -b pull_request_yourname
git pull private master
git push origin pull_request_yourname</code></pre>
<p>Now simply create a pull request via the Github UI on the public repo. Once project owners review the pull request, they can merge it. <a href="http://stackoverflow.com/questions/10065526/github-how-to-make-a-fork-of-public-repository-private/30352360#30352360">Source</a></p>
</div>
</div>
<div class="row" style="padding-bottom: 25%"> </div>
</div>
<script>
  hljs.initHighlightingOnLoad();
  renderMathInElement(document.body);
</script>
</body>
</html>
